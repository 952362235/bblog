总线
为什么要使用总线结构？早期的计算机大都采用分散连接方式，它是以存储器为中心的结构，由于现在的外部设备太多，如果使用分散连接方式，则随时增减外部设备不易实现，因此衍生出了总线的结构。
总线是连接多个部件的信息传输线，是各部件共享的传输介质。 两个特定分时和共享
分时是同一时刻只允许有一个部件向总线发送信息。如果系统中有多个部件，则她们只能分时的向总线发送信息。
共享是总线上可以挂载多个部件，各个部件之间互相交换的信息都可以通过这组线路分时共享。同一时刻只允许有一个部件向总线发送信息，但多个部件可以同时从总线上接受信息。
总线的传输周期：CPU通过总线对存储器或I / O端口进行一次访问所需要的时间，包括总线申请阶段，寻址阶段，传输阶段和结束阶段。
总线的宽度 总线实际上是由许多传输线或通路组成的，每条线可一位一位地传输二级制代码，一串二进制代码可在一段时间内逐一传输完成。若干条传输线可以同时传输若干位二级制代码。
分类1.按数据传输分为并行传输总线和串行传输总线
分类2.按总线的适用范围可以分为计算机总线，测控总线
分类3.按连接部件不同可以分为片内总线，系统总线，通信总线等。
片内总线：顾名思义是指芯片内部的总线，如做cpu芯片内部，寄存器与寄存器之间，寄存器与算术逻辑单元ALU之间都是片内总线连接的
系统总线：连接五大部件之间的信息传输线。按系统总线传输系信息的不同，又可分为3类：数据总线，地址总线和控制总线。
1.数据总线：用来传送各功能部件之间的数据信息，它是双向传播总线。
2.地址总线：它是单向传送总线。主要用来指出数据总线上的源数据或目的数据做主存单元的地址或I / O设备的地址。
3.控制总线：由于数据总线和地址总线是被所有部件共享的，如果使各部件能在不同时刻占有总线使用权，还需要依靠控制总线来完成，因此控制总线是用来发出咯吱控制信号的传输线。
通信总线：用于计算机系统之间或计算机系统与其他系统之间的通信。通信总线按照数据传说方式可以分为串行通信和并行通信。
总线的组成 由一组控制线，一组数据线和一组地址线组成。某些总线没有单独的地址线，地址信息也通过数据线来传送，这种情况较数据线和地址线复用。
总线的宽度 总线的带宽
结构1单总线结构 是设备连接到一组总线上  缺点所有信息传送都通过这组共享总线，即不允许两个以上的部件做同一时刻向总线传输信息；不能解决CPU主存I / O设备直接传输速率不匹配的特点。
特点 由于I / O设备与主存公用一组地址线，因此主存和I / O设备是统一编址的，CPU就可以像访问内存一样访问外部设备。
2双总线结构 将速度较低的I / O设备从单总线分离。 形成主存总线与I / O总线分开的结构。但是主存和I / O设备交换信息都要经过CPU，那CPU效率会降低
3三总线结构 增加了一条小路 DMA总线 专门用于I / O高速设备和主存直接交换信息。
在三总线结构中，任意时刻只能使用一种总线。主存总线和DMA总线不能同时对主存进行存取，I / O总线只有在CPU执行I / O指令时才能用到。
总线仲裁 作为一种共享设备，必可避免会出现同一时刻多个主设备争取控制权。应当采用总线仲裁部件，以某种方式选择一个主设备优先获得总线控制权。
1集中仲裁方式 a链式查询方式  总线同意线BG 优先级判别：离总线控制器越近的部件，其优先级越高；离总线控制权越远的部件，其优先级越低。
优点 只需要控制三根控制线就能按一定的优先级实现总线控制，结构简单，易扩充。
缺点1对硬件电路故障敏感 2优先级高的频繁使用 优先级低的长期不能使用
b计数器查询方式  多了一组设备地址线，少了一根总线同意线
c 独立请求方式
2.分布仲裁方式 每个主模块有自己的仲裁号和仲裁器，多个仲裁器竞争使用总线。
完成一次总线操作的时间称为总线周期，可以分为四个阶段
1申请分配阶段 2寻址阶段 3 传送数据阶段 4结束阶段
总线通信控制主要解决通信双方如何获知传输开始和传输结束以及通信双方如何协调和配合
通信方式分为四类 同步通信 异步通信 半同步通信 分离式通信
同步定时方式 系统采用一个统一的时钟信号来协调发送和接收双方的传送定时关系。时钟信号通常由CPU的总线控制器部件发出，然后送到总线上的所有部件。
不管是输入还是输出，地址信号一定是全程陪伴。
使用低电平时，电路往往要比高电平时拥有更低的阻抗，而较低的阻抗其抗干扰能力较强，所以一般要控制一种操作的时候尽量用低电平有效。
同步通信的优点 传送速度快，具有较高的传输速率
缺点 必须按最慢的模块来设计公共时钟，大大损失效率。
适用范围 总线长度较短，总线所接部件的存取时间应该都比较接近。
异步定时复方石 当主模块发出请求信号时，一直等待从模块反馈响应信号后才开始通信。这要求主从模块之间增加两条应答线。分为不互锁 半互锁 全互锁三种类型
1不互锁方式 主模块的请求信号和从模块的信号没有相互的制约关系。不需要回复和确认
2半互锁   主模块的请求信号和从模块的信号有简单的制约关系  主模块发出请求信号后，必须接到从模块的回答信号才撤销请求信号，有互锁关系。
3全互锁方式 主模块的请求信号和从模块的信号有完全的制约关系    三次握手
异步通信可用于并行传送或串行传送
总线的标准分为俩类 系统总线标准和设备总线标准
系统总线标准5种：1 ISA 2 EISA  3 VESA(VL-BUS) 4 PCI 5 PCI-Express（PCI-E）
设备总线标准四种  1 IDE 集成设备电路是一种IDE接口硬盘驱动器接口类型，用于处理器和磁盘驱动器之间。
2 AGP 加速图形接口AGP是一种视频接口，专用于连接主存和图形存储器
3 USB接口 可实现外部设备的快速连接
4 SATA 串行高级技术附件是一种基于行业标准的串行硬件驱动器接口
突发传送是一个总线周期中，可以传输多个存储地址联系的数据，即一次传输一个地址和一批地址连续的数据。 并行传输是在传输中有多个数据位同时做设备之间进行的传输。
串行传输是指数据的二级制代码做一条物理信道上以位为单位按时间顺序逐位传输的方式。
总线宽度即为数据线的根数。
输入输出设备的发展历程中主要分为4个阶段 1 早期阶段 （程序查询方式） 2 接口模块和DMA阶段 （中断方式和DMA方式） 3 具有通道结构的阶段 4 具有I/O处理器阶段
I/O系统分为I/O软件和I/O硬件
I/O软件 将用户编制的程序输入主机内，将运算结果输出给用户，实现输入输出系统与主机协调工作。
采用接口模块方式，要使得I/O设备与主机协调工作，必须依靠I/O指令来完成     格式：操作码 命令码  设备码
对于采用通道管理方式，不仅需要I/O指令，还需要通道指令。 
也叫通道控制字，是通道用于执行I/O操作的指令，可以由管理程序存放做主存的任何地方（通道命令存在主存里面），由通道从主存中取出并执行。
显示器 按显式设备所用的显式器件分类：1阴极射线管（CRT）显示器  2 液晶显示器（LCD） 3等离子显示器
CRT显示器按扫描方式的不同，可分为光栅扫描和随机扫描。
分辨率指显示器所能表示的像素个数，像素越密，分辨率越高，图像越清晰。
灰度级指黑白显示器中所显示的像素点的亮暗差别，在彩色显示器中则表现为颜色的不同，灰度级越高，图像层次越清楚逼真。
CRT发光由电子书打做荧光粉上引起的，电子束扫过之后，其发光亮度只能维持几十毫秒就会消失。为了人眼能看到稳定的图像显示，必须使电子束不断地重复扫描整个屏幕，这个过程称为刷新。人的视觉生理，刷新频率大于30次/S不会感到闪烁。
硬盘存储器平均存取时间计算
平均存取师姐包括寻道时间，旋转延迟时间和传输师姐三部分构成。其中旋转延迟师姐为磁盘转速倒数的一半，即磁盘转半圈所需的时间。
为什么设置接口 1 I/O设备速度慢，与CPU速度差距大，通过接口实现数据缓冲
2一台机器通常配有多台I/O设备，他们各有其设备编号，通过接口可以实现I/O设备的选择。
3 某些设备是一位位地串行传送数据，而CPU一般为并行传送，通过接口可实现数据串-并格式的转换。
中断的五个阶段：1中断请求 2中断判优 3中断响应 4 中断服务 中断返回
中断服务分为四个部分：1保护现场 2中断服务（设备服务） 3恢复现场 4中断返回
DMA方式是一种完全由硬件进行组信息传送的控制方式。
DMA与主存交换数据时采用以下三种方法
1 停止cpu访问主存 2周期挪用 必须等待存储周期结束后再让出   I/O设备每挪用一个主存周期都要申请总线控制权，建立总线控制权和归还总线控制权。
3 DMA和CPU交替访问 不需要总线使用权的申请 建立 和归还过程。
DMA的传送过程分为预处理 数据传送和后处理三个阶段。 以数据块为单位传送的
接口就是为了主机与外部设备之间传送信息且设置的硬件电路，其基本功能就是在系统总线和外部设备之间传输各种控制信号，并提供数据缓冲等作用。
隐指令指指令系统中没有的指令。
DMA控制器中的中断部件，仅当一个数据块传送完毕才被触发，向CPU提出中断请求，以通知CPU进行DMA传送的结尾处理。
条带化技术主要用来解决磁盘冲突问题，因为条带化技术可以将一块连续的数据分成许多小部分并把它们分布存储到不同的磁盘上去。这能使多个进程同时访问数据的多个不同部分且不会造成磁盘冲突，而且做需要这种数据进行顺序访问的时候可以获得最大程度上的I/O并行能力，从而获得非常好的性能。
中断是指来自CPU执行命令以外事件的发生，如设备I/O结束中断，表示设备输入输出处理已经完成，希望处理机能够向设备发出下一个输入输出请求，同时让完成输入输出后的程序继续执行。
时钟中断，表示一个固定的时间片已到，让处理机处理计时，启动定时允许的任务等。这一类中断通常是当前程序运行无关的事情，即他们与当前处理机运行的程序无关。
异常也称内中断，例外和陷入，指源自CPU执行命令内部的事件，如程序的非法操作码，地址越界，算术溢出，虚存系统的缺页以及专门的陷入指令等引起的事件。
